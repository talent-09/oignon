{% extends "base.html" %}
{% block title %}Alertes{% endblock %}

{% block content %}
<div class="container py-4">
  <h2 class="mb-4">ðŸš¨ Tableau des alertes</h2>

  {% if alertes %}
    <div class="table-container">
      <table class="table-custom">
        <thead>
          <tr>
            <th>Date</th>
            <th>Type</th>
            <th>Valeur concernÃ©e</th>
            <th>Niveau</th>
            <th>Message</th>
          </tr>
        </thead>
        <tbody>
          {% for alerte in alertes %}
          <tr class="{{ alerte.niveau|lower }}">
            <td>{{ alerte.date or 'Inconnue' }}</td>
            <td>{{ alerte.type or 'Non dÃ©fini' }}</td>
            <td>
              {% if alerte.type == 'gaz' %}
                {{ alerte.gaz }} ppm
              {% elif alerte.type == 'temperature' %}
                {{ alerte.temperature }} Â°C
              {% elif alerte.type == 'humidite' %}
                {{ alerte.humidite }} %
              {% else %}
                -
              {% endif %}
            </td>
            <td>{{ alerte.niveau }}</td>
            <td>{{ alerte.message }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class="alert alert-secondary">Aucune alerte enregistrÃ©e.</div>
  {% endif %}
</div>
{% endblock %}
